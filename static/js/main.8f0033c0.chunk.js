(this["webpackJsonphappy-student"]=this["webpackJsonphappy-student"]||[]).push([[0],{14:function(e,t,n){e.exports=n(40)},19:function(e,t,n){},20:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(12),l=n.n(c),r=(n(19),n(20),n(21),n(22),n(2)),u=Object(a.createContext)({}),s=function(e){var t=e.children,n=Object(a.useState)(localStorage.getItem("token")),c=Object(r.a)(n,2),l=c[0],s=(c[1],Object(a.useState)(!!l)),i=Object(r.a)(s,2),m=i[0],f=i[1];return console.log(m),o.a.createElement(u.Provider,{value:{userLoging:function(){m&&(localStorage.clear(),f(!m))},isToken:m,token:l,setIsToken:f}},t)},i=function(){var e=Object(a.useContext)(u),t=e.userLoging,n=e.isToken;console.log(n);var c=n?"Logout":"Login";return o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("h1",null,"happyStudents"),o.a.createElement("button",{onClick:t},c))},m=n(13),f=n.n(m),p=function(){var e=Object(a.useContext)(u),t=e.isToken,n=(e.token,e.setIsToken),c=Object(a.useState)("goo"),l=Object(r.a)(c,2),s=l[0],i=l[1],m=Object(a.useState)("goop"),p=Object(r.a)(m,2),b=p[0],g=p[1];if(!t)return o.a.createElement("div",{className:"container"},o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log("Submit clicked"),f.a.post("http://54.169.208.124:9000/api/gettoken",{username:s,password:b}).then((function(e){localStorage.setItem("token",e.data.data.token),n(!t)})).catch((function(e){console.log(e)}))},className:"form d-flex flex-column"},o.a.createElement("h2",null,"login"),o.a.createElement("input",{className:"form-control my-2",value:s,onChange:function(e){return i(e.target.value)},type:"text"}),o.a.createElement("input",{className:"form-control mb-2",value:b,onChange:function(e){return g(e.target.value)},type:"text"}),o.a.createElement("button",{className:"btn btn-info"},"Submit")))},b=function(){return Object(a.useContext)(u).isToken?o.a.createElement("div",null,"Home"):o.a.createElement(p,null)};var g=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(s,null,o.a.createElement(i,null),o.a.createElement(b,null)))};l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(g,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.8f0033c0.chunk.js.map